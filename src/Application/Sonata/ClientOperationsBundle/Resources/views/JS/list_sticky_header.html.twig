{% block stickyHeader_js %}
<script src="{{ asset('bundles/applicationsonataclientoperations/js/jquery.sticky.header.js') }}" type="text/javascript"></script>
{% endblock stickyHeader_js %}

{% block stickyHeader %}
<script type="text/javascript">
    $(function () {
        var $thead = $('.sonata-ba-list .table thead:first');
        if ($thead.length > 0) {
            var $tr = $('<tr />').prependTo($thead);
            var $th = $('<th />')
                    .attr('colspan', $thead.children(':last').children().length)
                    .append($('#block_actions'))
                    .append($('.clientoperations_tabs_types_block'))
                    .appendTo($tr);
            var depth = 0;
            $thead.children().addClass('sticky_header').each(function () {
                $(this).attr('depth', depth++);
            });
            $('.sonata-ba-list .table').stickyHeader({
                'headerClassName':'sticky_header',
                'depth':[1, 1, 1]
            });
            $('.sticky_header_clone ._filterText').keyup(function () {
                var id = $(this).attr('id').replace("clone_", "_");
                $('#' + id).val($(this).val()).keyup();
            }).each(function () {
                $(this).attr('id', 'clone' + $(this).attr('id'));
            });
            $('.sticky_header ._filterText').keyup(function () {
                $('#clone' + $(this).attr('id')).val($(this).val());
            });
        }
    });
</script>
{% endblock stickyHeader %}